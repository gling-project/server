<div class="publication-list">

    <div ng-show="getInfo().loading===true" class="loading">
        <img src="/assets/images/big_loading.gif"/>
    </div>


    <div ng-show="getInfo().loading!=true && businesses.length == 0">
        {{'--.list.nothing' | translateText}}
    </div>

    <!-- publication -->
    <div ng-repeat="business in businesses"
         class="publication-box"
         ng-class="{'publication-followed':business.following === true}"
         ng-click="click()">

        <!-- header -->
        <table class="publication-header">
            <tr>
                <td rowspan="2">

                    <!-- illustration -->
                    <div class="publication-business-illustration">
                        <img ng-click="navigateTo('/business/'+business.id)"
                             ng-src="{{business.illustration | image}}"/>
                    </div>
                </td>
                <td class="publication-header-business">

                    <!-- business name -->
                    <div ng-click="navigateTo('/business/'+business.id)"
                         class="publication-bordered-bottom-hover publication-bordered-bottom">
                        <span class="publication-main-title">
                            <i ng-show="business.following === true"
                               class="gling-icon-bell">
                            </i>
                            {{business.name}}
                        </span>
                    </div>

                </td>
            </tr>
            <tr>
                <td class="publication-header-title">

                    <!-- distance -->
                    <div class="publication-bubble publication-bordered">
                        <i class="glyphicon gling-icon-earth"></i> {{business.distance / 1000 | number:2}} km
                    </div>

                    <!-- address -->
                    <div class="publication-bubble publication-bordered">
                        <span>{{business.address.street}}, {{business.address.zip}}, {{business.address.city}}</span>
                    </div>
                </td>
            </tr>
        </table>

        <div class="publication-body">
            <div class="publication-data"
                 ng-hide="business.description == null">

                <div class="publication-data-body">

                    <category-line-ctrl ng-info="{categories:business.categories}"></category-line-ctrl>

                    {{business.description}}
                </div>
            </div>

        </div>

        <follow-widget-ctrl ng-info="{displayText:true,business:business}"></follow-widget-ctrl>

    </div>

</div>