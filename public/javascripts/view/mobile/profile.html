<mobile-title-ctrl title="'--.page.profile.title'" display-menu="true"></mobile-title-ctrl>
<!-- body -->
<div class='app-body'>
    <div class='app-content'>

        <div class="body-mask"
             ng-show="displayMask"></div>

        <div class="scrollable">
            <div class="section scrollable-content">

                <div ui-state="activeTab" default="1">
                    <ul class="nav nav-tabs">
                        <li ng-click="activeTab = 'personal'"
                            ng-class="{'active':activeTab == 'personal'}">
                            <a ui-set="{'activeTab': 1}">{{'--.customer.profile.personalInformation' |
                                translateText}}</a>
                        </li>
                        <li ng-click="activeTab = 'address'"
                            ng-class="{'active':activeTab == 'address'}">
                            <a ui-set="{'activeTab': 2}">{{'--.customer.profile.myAddresses' | translateText}}</a>
                        </li>
                        <li ng-click="activeTab = 'interest'"
                            ng-class="{'active':activeTab == 'interest'}">
                            <a ui-set="{'activeTab': 3}">{{'--.customer.profile.interest' | translateText}}</a>
                        </li>
                    </ul>


                    <!-- personal information -->
                    <div ng-show="activeTab == 'personal'">
                        <div ng-show="model.myself.facebookAccount===true">
                            {{'--.profile.connectedByFacebook' | translateText}}
                        </div>
                        <div ng-hide="model.myself.facebookAccount===true">

                            <account-form-ctrl ng-info="accountParam"></account-form-ctrl>

                            <!-- edit mode -->
                            <button class="btn gling-button-dark glyphicon glyphicon-edit"
                                    ng-show="accountParam.disabled"
                                    ng-click="accountParam.disabled = false">
                                {{'--.generic.edit' |translateText}}
                            </button>

                            <!-- save -->
                            <button class="btn gling-button-dark"
                                    ng-hide="accountParam.disabled"
                                    ng-click="accountSave()">
                                {{'--.generic.save' | translateText}}
                            </button>

                            <!-- cancel -->
                            <button class="btn gling-button-dark"
                                    ng-hide="accountParam.disabled"
                                    ng-click="accountCancel()">
                                {{'--.generic.cancel' | translateText}}
                            </button>

                            <!-- change facebook -->
                            <button
                                    ng-show="account.facebookAccount!==true"
                                    ng-click="editPassword()"
                                    type="button"
                                    class="btn gling-button-dark">
                                {{'--.changePasswordModal.title' | translateText}}
                            </button>
                        </div>

                    </div>

                    <!-- address -->
                    <div ng-show="activeTab == 'address'">


                        <button class="btn gling-button-dark" ng-click="addAddress()">
                            {{'--.customer.profile.address.create' | translateText}}
                        </button>


                        <div class="panel panel-gling"
                             ng-repeat="address in model.myself.addresses">
                            <div class="panel-heading">{{address.name}}</div>
                            <div class="panel-body">
                                <div class="address-box">
                                    <div><span>{{'--.generic.street' | translateText}}</span>{{address.street}}</div>
                                    <div><span>{{'--.generic.zip' | translateText}}</span>{{address.zip}}</div>
                                    <div><span>{{'--.generic.city' | translateText}}</span>{{address.city}}</div>
                                    <div><span>{{'--.generic.country' | translateText}}</span>{{address.country}}</div>
                                </div>
                                <button class="btn gling-button-dark glyphicon glyphicon-edit"
                                        ng-click="editAddress(address)">
                                    {{'--.generic.edit' |
                                    translateText}}
                                </button>
                                <button class="btn gling-button-dark glyphicon glyphicon-remove"
                                        ng-click="deleteAddress(address)">
                                    {{'--.generic.remove' |translateText}}
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- interest -->
                    <div ng-show="activeTab == 'interest'">

                        <div ng-repeat="interest in model.myself.customerInterests"
                             ng-show="interestParam.disabled"
                             class="category-box">
                            {{interest.translationName |translateText}}
                        </div>

                        <!-- customer interest form -->
                        <customer-interest-form-ctrl
                                ng-hide="interestParam.disabled"
                                ng-info="interestParam">
                        </customer-interest-form-ctrl>

                        <!-- edit mode -->
                        <button class="btn gling-button-dark glyphicon glyphicon-edit"
                                ng-show="interestParam.disabled"
                                ng-click="interestParam.disabled = false">
                            {{'--.generic.edit' |translateText}}
                        </button>

                        <!-- save -->
                        <button class="btn gling-button-dark"
                                ng-hide="interestParam.disabled"
                                ng-click="interestSave()">
                            {{'--.generic.save' | translateText}}
                        </button>

                        <!-- cancel -->
                        <button class="btn gling-button-dark"
                                ng-hide="interestParam.disabled"
                                ng-click="interestParam.disabled = true">
                            {{'--.generic.cancel' | translateText}}
                        </button>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>