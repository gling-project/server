<!-- header -->
<div class="navbar navbar-app navbar-absolute-top"
     ng-class="{'header-with-advanced-search':advancedSearch}">

    <div class="navbar-brand navbar-brand-center header-option-container">

        <search-bar-ctrl ng-info="{mobile:true}"></search-bar-ctrl>

    </div>

    <div class="btn-group pull-left header-option-container">
        <div class="btn btn-navbar">
            <div ui-toggle="uiSidebarLeft" class="nav-button">
                <i class="fa fa-bars"></i>
            </div>
        </div>
    </div>
</div>

<!-- body -->
<div class='app-body'>
    <div class='app-content'>

        <div class="body-mask"
             ng-show="displayMask"></div>

        <div class="scrollable">
            <div class="scrollable-content business-mobile-page">

                <div class="business-page-header"
                     ng-style="{'background-image':'url('+(business.landscape | image)+')' }">

                    <!-- landscape -->
                    <div class="edit-button-container landscape-edit">
                        <button class="btn btn-primary btn-xs glyphicon glyphicon-edit"
                                ng-show="edit"
                                ng-click="editLandscape()">
                            {{'--.business.page.edit.landscape' | translateText}}
                        </button>
                    </div>

                    <!-- illustration -->
                    <div class="business-page-illustration-container">
                        <img class="business-illustration" ng-src="{{business.illustration | image}}"/>

                        <div class="edit-button-container">
                            <button class="btn btn-primary btn-xs glyphicon glyphicon-edit btn-sm"
                                    ng-show="edit"
                                    ng-click="editIllustration()">
                                {{'--.business.page.edit.illustration' | translateText}}
                            </button>
                        </div>
                    </div>

                    <!-- name -->
                    <div class="business-page-name">
                        {{business.name}}
                        <div class="edit-button-container">
                            <button class="btn btn-primary btn-xs glyphicon glyphicon-edit"
                                    ng-show="edit && business.businessStatus === 'NOT_PUBLISHED'"
                                    ng-click="editbusiness()">
                                {{'--.business.page.edit.business' | translateText}}
                            </button>
                        </div>
                    </div>
                </div>

                <!-- option -->
                <div style="overflow: auto">
                    <div class="home-interest-box"
                         ng-style="{width:(customerInterests.length * 34 + 4) + 'px'}">
                        <button class="home-interest"
                                ng-repeat="action in actions"
                                ng-show="action.display()"
                                ng-click="action.action()">

                            <img ng-src="{{action.icon}}"
                                 style="width:50px"/>
                        </button>
                    </div>
                </div>

                <!-- home-->
                <div ng-show="interfaceToDisplay=='home'">

                    <publication-list-mobile-for-business-ctrl
                            ng-info="publicationListParam">
                    </publication-list-mobile-for-business-ctrl>

                </div>

                <!-- info-->
                <div class="section" ng-show="interfaceToDisplay=='info'">

                    <!-- address + google map -->
                    <table class="business-info-line">
                        <tr>
                            <td colspan="2">
                                <!-- map -->
                                <div class="business-info-line-action">
                                    <google-map-widget-ctrl
                                            ng-info="googleMapParams">
                                    </google-map-widget-ctrl>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <!-- address / distance -->
                                <div class="business-address">
                                    {{business.address.street}}<br/>
                                    {{business.address.zip}}<br/>
                                    {{business.address.city}}
                                </div>
                            </td>
                            <td class="td-action">
                                {{business.distance / 1000 | number:2}} Km
                            </td>
                        </tr>
                    </table>

                    <!-- contact -->
                    <!-- phone -->
                    <table class="business-info-line" ng-show="business.phone!=null">
                        <tr>
                            <td>
                                {{business.phone}}
                            </td>
                            <td class="td-action">
                                <a class="business-info-line-action glyphicon glyphicon-earphone"
                                   href="tel:{{business.phone}}"></a>
                            </td>
                        </tr>
                    </table>

                    <!-- website -->
                    <table class="business-info-line" ng-show="business.website!=null">
                        <tr>
                            <td>
                                {{business.website}}
                            </td>
                            <td class="td-action">
                                <a href="{{business.website}}" target="_blank">{{business.website}}</a>
                            </td>
                        </tr>
                    </table>

                    <!-- email -->
                    <table class="business-info-line" ng-show="business.email!=null">
                        <tr>
                            <td>
                                {{business.email}}
                            </td>
                            <td class="td-action">
                                <a class="business-info-line-action glyphicon glyphicon-envelope"
                                   href="mailto:{{business.email}}"></a>
                            </td>
                        </tr>
                    </table>

                    <!-- schedule -->
                    <table class="business-info-line" ng-show="business.schedules!=null">
                        <tr>
                            <td>
                                <schedule-ctrl ng-info="{dto:business.schedules}"></schedule-ctrl>
                            </td>
                        </tr>
                    </table>

                </div>

                <!-- gallery-->
                <div  class="section gallery-mobile" ng-show="interfaceToDisplay=='gallery'">
                    <h4>{{'--.generic.gallery' | translateText}}</h4>
                    <img ng-repeat="image in business.galleryPictures"
                         style="margin-top: 5px"
                         ng-click="openGallery(image)"
                         ng-src="{{image | image}}"/>
                </div>

            </div>

        </div>
    </div>
</div>