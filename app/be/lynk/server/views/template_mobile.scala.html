@(languages: be.lynk.server.dto.ListDTO[be.lynk.server.dto.LangDTO], data: be.lynk.server.dto.InterfaceDataDTO)
@import com.fasterxml.jackson.databind.ObjectMapper
@import play.Play

<!DOCTYPE html>

<html>
    <head>
        <title>Gling - What's Up in my Shops</title>
        <meta charset="utf-8"/>
        <link rel="shortcut icon" href="/assets/images/icon.ico">

            <!-- change scale for mobile -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        @*<meta name="viewport" content="width=device-width, initial-scale=0.6">*@

        <meta http-equiv="content-language" content="fr">
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <meta name="description" content="Suivez l’actualité de  vos commerces favoris ! Restaurants, boutiques, théâtres, magasins de décoration,… Gling rassemble tous les types d’établissements pour répondre à l’ensemble de vos envies.">
        <meta name="keywords" content="Magasin Commerce Commerçant Consommateur Client Local Proximité Promotion Réduction Actualité Nouveauté Evénement Coordonnées Contact Heures ouverture Téléphone E-mail Adresse Communication Application Géolocalisation Gling Shop Deal">
        <meta name="robots" content="index,follow">
        <meta name="revisit-after" content="15days">
        <meta name="identifier-url" content="http://www.gling.be">
        <meta name="author" content="Gling">
        <meta name="reply-to" content="info@@gling.be">


        @if(Play.application().isProd() == false) {

            @header.dependencies_header()
                <!-- map -->
            <script src='//maps.googleapis.com/maps/api/js?sensor=false'></script>
            <script src="@routes.Assets.at("components/lodash/lodash.min.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("components/angular-google-maps/dist/angular-google-maps.min.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("components/angular-google-maps/dist/angular-google-maps_dev_mapped.min.js")" type="text/javascript"></script>

                <!-- angular mobile -->
            <script src="@routes.Assets.at("components/mobile-angular-ui/dist/js/mobile-angular-ui.min.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("components/mobile-angular-ui/dist/js/mobile-angular-ui.core.min.js")" type="text/javascript"></script>

                <!-- routes -->
            <script src="@routes.Assets.at("javascripts/routes/mobile-routes.js")" type="text/javascript"></script>

                <!-- init -->
            <script src="@routes.Assets.at("javascripts/InitMobile.js")" type="text/javascript"></script>

                <!-- modal -->
            <script src="@routes.Assets.at("javascripts/modal/ChangePassword/ChangePasswordModal.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/modal/AddressModal/AddressModal.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/modal/OneFieldModal/OneFieldModal.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/modal/mobile/AlertModal/AlertMessage.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/modal/mobile/LoadingModal/LoadingModal.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/modal/AccountFusionFacebookModal/AccountFusionFacebookModal.js")" type="text/javascript"></script>


                <!-- controllers -->
            <script src="@routes.Assets.at("javascripts/controller/mobile/WelcomeCtrl.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/controller/mobile/HomeCtrl.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/controller/mobile/ForgotPasswordCtrl.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/controller/mobile/CustomerRegistrationCtrl.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/controller/mobile/MenuCtrl.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/controller/mobile/ProfileCtrl.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/controller/mobile/BusinessCtrl.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/controller/mobile/SearchPageCtrl.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/controller/mobile/FollowedBusinessPageCtrl.js")" type="text/javascript"></script>

                <!-- component -->
            <script src="@routes.Assets.at("javascripts/directive/component/businessListMobile/BusinessListMobileCtrl.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/directive/component/publicationListMobile/PublicationListMobileCtrl.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/directive/component/publicationListMobileForBusiness/PublicationListMobileForBusinessCtrl.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/directive/component/categoryLine/CategoryLineCtrl.js")" type="text/javascript"></script>

                <!-- directive -->
            <script src="@routes.Assets.at("javascripts/directive/mobile/title/MobileTitleCtrl.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/directive/mobile/headerSearch/HeaderSearchCtrl.js")" type="text/javascript"></script>
            <script src="@routes.Assets.at("javascripts/directive/mobile/galleryMobile/GalleryMobileCtrl.js")" type="text/javascript"></script>

            <script src="@routes.Assets.at("javascripts/directive/technical/slideController.js")" type="text/javascript"></script>

                <!-- service -->
            <script src="@routes.Assets.at("javascripts/service/mobile/FlashService.js")" type="text/javascript"></script>

                <!-- common angularsj elements -->
            @header.header()
            <link rel="stylesheet" media="screen" href="@routes.Assets.at("components/mobile-angular-ui/dist/css/mobile-angular-ui-base.min.css")">
            <link rel="stylesheet" media="screen" href="@routes.Assets.at("css/glingicon.css")">
            <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/mobile.css")">
        }

        @if(Play.application().isProd()) {

            <script src="@routes.Assets.at("dist/dependencies." + data.getProjectLastVersion + ".final.js")" type="text/javascript"></script>

            <script src="@routes.Assets.at("dist/mobile." + data.getProjectLastVersion + ".final.js")" type="text/javascript"></script>

            <script src="@routes.Assets.at("dist/common." + data.getProjectLastVersion + ".final.js")" type="text/javascript"></script>

            <link rel="stylesheet" media="screen" href="@routes.Assets.at("dist/styleMobile." + data.getProjectLastVersion + ".final.css")">
        }
            <!-- css -->
            <!-- main -->

    </head>
    <body ng-app="app" ng-controller="MainCtrl">

            <!-- progress bar -->
        <div class="progressBar"
        ng-style="progressBarCss">
        </div>

            <!-- load data -->
        <script>
        var data = @Html(new ObjectMapper().writeValueAsString(data));
        var languages = @Html(new ObjectMapper().writeValueAsString(languages.getList));
        var lang = "@ctx().lang().code";
        </script>

            <!-- Sidebars -->
        <!-- ui-turn-off='uiSidebarLeft'  -->
        <div ng-click="toggleMenu()" class="menuleft" ng-class="{hide:!showmenu,slide:showmenu}"  ng-controller="MenuCtrl">
            <div class="scrollable">

                <div class="scrollable-header ">

                    <h1>
                        {{'--.site.name' | translateText}}
                        <span class=" gling-icon-logogling"></span>
                    </h1>

                    <div class="scrollable-content">
                        <div class="list-group">

                            <div class="list-group-item generic-pointer">
                                <select
                                ng-model="currentPosition"
                                ng-options="position.key as position.translation | translateText for position in positions">
                                </select>
                                <span class="gling-icon-location"></span>
                            </div>

                            <div class="list-group-item generic-pointer"
                            ng-click="navigateTo('/home')">
                                <span class="gling-icon-home"></span>
                                {{'--.generic.home' | translateText}}
                            </div>

                            <div class="list-group-item generic-pointer"
                            ng-click="navigateTo('/profile')">
                                <span class="gling-icon-profil"></span>
                                {{'--.welcome.myProfile' | translateText}}
                            </div>

                            <div class="list-group-item generic-pointer"
                            ng-click="navigateTo('/my-businesses')">
                                <span class="gling-icon-shop"></span>
                                {{'--.welcome.myBusinesses' | translateText}}
                            </div>

                            <div class="list-group-item generic-pointer"
                            ng-click="logout()">
                                <span class="glyphicon glyphicon-off" ></span>
                                {{'--.generic.logout' | translateText}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div ng-show="showmenu" class="overlay" ng-click="closeMenu()"></div>
        </div>

        <div class="app">

            <gallery-mobile-ctrl></gallery-mobile-ctrl>

                <!-- App body -->
            <div ng-view style="height : 100%"></div>


        </div>

            <!-- Modals and Overlays -->
        <div ui-yield-to="modals"></div>


    </body>
</html>