@(languages: be.lynk.server.dto.ListDTO[be.lynk.server.dto.LangDTO], data: be.lynk.server.dto.InterfaceDataDTO,publication:be.lynk.server.dto.AbstractPublicationDTO)
@import com.fasterxml.jackson.databind.ObjectMapper
@import play.Play

<!DOCTYPE html>

<html>
    <head>
        <title>@Messages("--.site.name")</title>
        <meta charset="utf-8"/>
        <link rel="shortcut icon" href="/assets/images/icon.ico">


            <!-- facebook meta -->
        @if(publication!=null) {
            <meta property="og:url" content="@(data.getUrlBase)/business/@(publication.getBusinessId)/publication/@(publication.getId)" />

            <meta property="og:type" content="website" />
            <meta property="og:site_name" content="Gling" />
            <meta property="fb:app_id" content="@(data.getAppId)" />
            <meta property="og:title" content="@(publication.getTitle) - @(publication.getBusinessName)" />
            @if(publication.getDescription != null) {
                <meta property="og:description" content="@(publication.getDescription)" />
            }

            @if(publication.getPictures.size() > 0) {
                <meta property="og:image" content="@(data.getFileBucketUrl)/@(publication.getPictures.get(0).getStoredName)" />
                <meta property="og:image:type" content="image/png" />
            }
            @if(publication.getPictures.size() == 0 && publication.getBusinessIllustration != null) {
                <meta property="og:image" content="@(data.getFileBucketUrl)/@(publication.getBusinessIllustration.getStoredName)" />
                <meta property="og:image:type" content="image/png" />
            }
        }

            <script src="@routes.Assets.at("dist/dependencies."+data.getProjectLastVersion+".final.js")" type="text/javascript"></script>

            <script src='//maps.googleapis.com/maps/api/js?sensor=false'></script>

            <script src="@routes.Assets.at("dist/web."+data.getProjectLastVersion+".final.js")" type="text/javascript"></script>

            <script src="@routes.Assets.at("dist/common."+data.getProjectLastVersion+".final.js")" type="text/javascript"></script>

            <link rel="stylesheet" media="screen" href="@routes.Assets.at("dist/styleDependencies."+data.getProjectLastVersion+".final.css")">




            <!-- css -->
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("css/glingicon.css")">
            <!-- main -->
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/web.css")">

    </head>
    <body ng-app="app" ng-controller="MainCtrl">

            <!-- load data -->
        <script>
        var data = @Html(new ObjectMapper().writeValueAsString(data)) ;
        var languages = @Html(new ObjectMapper().writeValueAsString(languages.getList)) ;
        var lang = "@ctx().lang().code";
        </script>

        <!-- progress bar -->
        <div class="progressBar"
            ng-style="progressBarCss">
        </div>

        <!-- header bar -->
        <header-bar-ctrl></header-bar-ctrl>

        <!-- content -->
        <div class="container-content">
            <div ng-view></div>
        </div>

            <!-- footer bar -->
        <footer-bar-ctrl></footer-bar-ctrl>

    </body>
</html>